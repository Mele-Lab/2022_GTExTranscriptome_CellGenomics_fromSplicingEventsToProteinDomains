profiles {
      local {
        executor {
                        name = 'local'
                        cpus = 48 // This param is only used by the local executor
                        memory = '96.GB' // This param is only used by the local executor
                        queueSize = 48 // Defines how many processes are queued at a given time
                        submitRateLimit = '5 sec' // Determines the max rate of job submission per time unit
                        pollInterval = '5 sec' // Determines how often a poll occurs to check for a process termination
        }
}

        slurm {
                executor{
                        name = 'slurm'
                       	// memory = '2G' 
			queueSize = 350 //Default value = 100
                        submitRateLimit = '300/1min'
                        pollInterval = '2 sec'

                }
        }
}

// Nextflow runtime runs on top of the Java virtual machine which, by design, tries to allocate as much memory as is available.
// To avoid this, specify the maximum amount of memory that can be used by the Java VM using the -Xms and -Xmx Java flags (https://www.nextflow.io/blog/2021/5_tips_for_hpc_users.html)

env {
        NXF_OPTS="-Xms500M -Xmx2G"
}

params {
	outdir = "${baseDir}/results"
	// Path to the trancript list
	// transcript_list = "${baseDir}/Transcript_lists/4.Gencodev26-GRCh38-All-PC-Transcripts/Split-Gencode.v26.PC.transcripts/gencode.v26.pc.transcripts-4.txt"
	transcript_list = "${baseDir}/Transcript_lists/4.Gencodev26-GRCh38-All-PC-Transcripts/Missing.66.transcripts.results.24.txt"

	// Run tag for results dir	
	run_tag = "24.All-PC-Transcripts-Split"
	
	input_files{
		annot_gtf = "${baseDir}/Data/GTF-Files/gencode.v26.annotation.gtf"
		genome = "${baseDir}/Data/Genome-fasta/GRCh38.p13.genome.fasta"
	}
	
	query_PFAM{
		// evalue_thres = 10
		local_PFAM_DB = "${baseDir}/local-install-PFAM/Pfam-A.hmm"
	}
	
	// Visualization params	
	viz = false
	viz_transcript = false // Visualization of Transcript with its PFAM Alignment 
	viz_event = false // Visualizarion of AS Event 
	
	visualization {
		aggregation_csv = "${baseDir}/Transcript_lists/4.Gencodev26-GRCh38-All-PC-Transcripts/AS-Events-gencodev26-PC-Isoforms.csv"
		cytoBand_table = "${baseDir}/Required_files/UCSC_cytoBand_hg38.txt"
	}
}
